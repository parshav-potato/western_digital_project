# RAPTOR Visual Diagrams
## Ready-to-Use Visuals for Presentations

---

## ğŸŒ³ **Diagram 1: RAPTOR Tree Structure**

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚    "This paper introduces the           â”‚
                    â”‚     Transformer architecture..."        â”‚
                    â”‚          (Level 2 - Overview)           â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                     â”‚                     â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  "Attention   â”‚     â”‚ "Architecture â”‚    â”‚  "Training &  â”‚
        â”‚  mechanism    â”‚     â”‚  consists of  â”‚    â”‚   Results"    â”‚
        â”‚  described"   â”‚     â”‚  encoder..."  â”‚    â”‚               â”‚
        â”‚ (Level 1)     â”‚     â”‚  (Level 1)    â”‚    â”‚  (Level 1)    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚      â”‚              â”‚      â”‚             â”‚      â”‚
        â”Œâ”€â”€â”€â”´â”€â”€â”€â”  â”‚          â”Œâ”€â”€â”€â”´â”€â”€â”€â”  â”‚         â”Œâ”€â”€â”€â”´â”€â”€â”€â”  â”‚
        â”‚ Chunk â”‚  â”‚          â”‚ Chunk â”‚  â”‚         â”‚ Chunk â”‚  â”‚
        â”‚   1   â”‚  â”‚          â”‚   4   â”‚  â”‚         â”‚   7   â”‚  â”‚
        â”‚(L0)   â”‚  â”‚          â”‚(L0)   â”‚  â”‚         â”‚(L0)   â”‚  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”
        â”‚  Chunk    â”‚         â”‚  Chunk    â”‚        â”‚  Chunk    â”‚
        â”‚    2      â”‚         â”‚    5      â”‚        â”‚    8      â”‚
        â”‚   (L0)    â”‚         â”‚   (L0)    â”‚        â”‚   (L0)    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Chunk    â”‚         â”‚  Chunk    â”‚        â”‚  Chunk    â”‚
        â”‚    3      â”‚         â”‚    6      â”‚        â”‚    9      â”‚
        â”‚   (L0)    â”‚         â”‚   (L0)    â”‚        â”‚   (L0)    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    [30 chunks]  â†’  [5 summaries]  â†’  [1 overview]  =  36 total texts
```

---

## ğŸ“Š **Diagram 2: Traditional RAG vs RAPTOR**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    TRADITIONAL RAG                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Document â†’ [C1][C2][C3][C4][C5]...[C30]
                        â†“
                  Flat structure
                        â†“
            All chunks at same level
                        â†“
        Query: "What is this about?"
                        â†“
    Returns: [C7][C14][C23] (random details)
                        âŒ


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         RAPTOR                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                   [Overview]  â† Level 2
                       â†“
            [S1][S2][S3][S4][S5]  â† Level 1
                       â†“
        [C1][C2]...[C29][C30]  â† Level 0
                       â†“
              Hierarchical structure
                       â†“
         Multiple abstraction levels
                       â†“
        Query: "What is this about?"
                       â†“
       Returns: [Overview] + [S1][S2]
                       âœ…
```

---

## ğŸ”„ **Diagram 3: RAPTOR Algorithm Flow**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              RAPTOR PROCESSING PIPELINE                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    INPUT: 30 Text Chunks
           â”‚
           â”œâ”€â”€â†’ EMBED â”€â”€â†’ 30 vectors (384D)
           â”‚
           â”œâ”€â”€â†’ UMAP â”€â”€â†’ 30 vectors (10D)
           â”‚
           â”œâ”€â”€â†’ GMM CLUSTER â”€â”€â†’ 5 clusters
           â”‚                     â”‚
           â”‚                     â”œâ”€ Cluster 0: [C1, C5, C9]
           â”‚                     â”œâ”€ Cluster 1: [C2, C7, C12]
           â”‚                     â”œâ”€ Cluster 2: [C3, C8, C15]
           â”‚                     â”œâ”€ Cluster 3: [C4, C11, C18]
           â”‚                     â””â”€ Cluster 4: [C6, C13, C20]
           â”‚
           â””â”€â”€â†’ LLM SUMMARIZE â”€â”€â†’ 5 Summaries (Level 1)
                                   â”‚
                                   â”œâ”€â”€â†’ EMBED â”€â”€â†’ 5 vectors
                                   â”‚
                                   â”œâ”€â”€â†’ UMAP â”€â”€â†’ 5 vectors
                                   â”‚
                                   â”œâ”€â”€â†’ GMM CLUSTER â”€â”€â†’ 1 cluster
                                   â”‚
                                   â””â”€â”€â†’ LLM SUMMARIZE â”€â”€â†’ 1 Summary (Level 2)

    OUTPUT: 36 texts (30 + 5 + 1)
            All stored in FAISS Vector Store
```

---

## ğŸ¯ **Diagram 4: Query Processing**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  QUERY: "What is this about?"             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                    User Query
                         â”‚
                         â†“
                    EMBED Query
                         â”‚
                         â†“
              Vector (384 dimensions)
                         â”‚
                         â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   FAISS Similarity Search       â”‚
        â”‚   (Search ALL 36 texts)         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â†“
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  Compute Cosine      â”‚
              â”‚  Similarity with     â”‚
              â”‚  all stored vectors  â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â†“
              Top 5 Most Similar Texts
                         â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â†“               â†“               â†“
    [Level 2      [Level 1        [Level 0
     Summary]      Summary]         Chunk]
    Score: 0.95   Score: 0.87     Score: 0.82

    Result: Multi-level context! âœ…
```

---

## ğŸ“ˆ **Diagram 5: Clustering Visualization**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             2D VISUALIZATION OF CLUSTERING                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

High-dimensional space (384D) â†’ UMAP â†’ 2D projection


    Cluster 1          Cluster 2              Cluster 3
  (Attention)        (Architecture)          (Training)
       â”‚                   â”‚                      â”‚
       â”‚                   â”‚                      â”‚
    â”Œâ”€â”€â”´â”€â”€â”             â”Œâ”€â”€â”´â”€â”€â”              â”Œâ”€â”€â”´â”€â”€â”
    â”‚  â—  â”‚             â”‚  â–   â”‚              â”‚  â–²  â”‚
    â”‚ â— â— â”‚             â”‚ â–  â–  â”‚              â”‚ â–²â–²â–² â”‚
    â”‚  â—  â”‚             â”‚  â–   â”‚              â”‚  â–²  â”‚
    â””â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”˜
       â”‚                   â”‚                      â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                   Global Clustering
                          â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                       â”‚
         Local Clustering        Local Clustering
              â”‚                       â”‚
         â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
         â”‚ â—   â—   â”‚             â”‚ â–    â–    â”‚
         â”‚   â—     â”‚             â”‚     â–    â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Result: Hierarchical clusters at multiple scales
```

---

## ğŸ” **Diagram 6: Embedding Space**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            SEMANTIC EMBEDDING SPACE (Simplified)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                    384 Dimensions
                          â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  "attention mechanism"â”‚
              â”‚  "multi-head attention"â”‚â”€â”€â”
              â”‚  "self-attention"      â”‚  â”‚ Close in
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ embedding space
                                          â”‚ (high similarity)
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
              â”‚  "encoder architecture"â”‚  â”‚
              â”‚  "decoder layers"      â”‚â”€â”€â”¤
              â”‚  "transformer model"   â”‚  â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                                          â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
              â”‚  "training time"       â”‚  â”‚
              â”‚  "optimization"        â”‚â”€â”€â”˜
              â”‚  "learning rate"       â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Similar concepts cluster together in vector space
RAPTOR leverages this to create meaningful groupings
```

---

## ğŸ“š **Diagram 7: Document Processing Steps**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 END-TO-END PIPELINE                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. INPUT
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚    PDF     â”‚  "Attention Is All You Need" (15 pages)
   â”‚ Document   â”‚
   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
          â”‚
2. EXTRACTION
          â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  PyMuPDF   â”‚  Extract text from each page
   â”‚  Parser    â”‚
   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
          â”‚
3. CHUNKING
          â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚   Split    â”‚  30 chunks (~1000 chars each)
   â”‚   Text     â”‚
   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
          â”‚
4. RAPTOR LEVEL 0
          â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚   Embed    â”‚  30 vectors (384D)
   â”‚  Cluster   â”‚  â†’ 5 clusters
   â”‚ Summarize  â”‚  â†’ 5 summaries
   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
          â”‚
5. RAPTOR LEVEL 1
          â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚   Embed    â”‚  5 vectors (384D)
   â”‚  Cluster   â”‚  â†’ 1 cluster
   â”‚ Summarize  â”‚  â†’ 1 summary
   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
          â”‚
6. STORAGE
          â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚   FAISS    â”‚  36 vectors stored
   â”‚  Database  â”‚  (30 + 5 + 1)
   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
          â”‚
7. QUERY
          â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  Semantic  â”‚  User asks questions
   â”‚  Search    â”‚  Returns relevant texts
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Time: ~2 minutes total
Cost: ~$0.10 (with Gemini)
Storage: ~150KB
```

---

## ğŸ’¡ **Diagram 8: Information Granularity**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         MATCHING QUERIES TO APPROPRIATE LEVELS               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    Query Type                  Best Match         Example

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Very High   â”‚  â”€â”€â”€â”€â”€â”€â†’  Level 2     "What is this paper about?"
    â”‚   Level      â”‚           (Overview)
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  High Level  â”‚  â”€â”€â”€â”€â”€â”€â†’  Level 1     "What are the main components?"
    â”‚              â”‚           (Summaries)
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚    Specific  â”‚  â”€â”€â”€â”€â”€â”€â†’  Level 0     "How does multi-head attention work?"
    â”‚    Details   â”‚           (Chunks)
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    RAPTOR automatically finds the right level!
    Traditional RAG only has Level 0 (details)
```

---

## ğŸ¨ **Diagram 9: System Architecture**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  SYSTEM COMPONENTS                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚              FRONTEND / API                     â”‚
    â”‚  (Jupyter Notebook / Python Script / REST API)  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                             â”‚
    â†“                                             â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   PDF    â”‚         â”‚  RAPTOR  â”‚         â”‚  Vector  â”‚
â”‚Processor â”‚ â”€â”€â”€â”€â”€â”€â†’ â”‚Processor â”‚ â”€â”€â”€â”€â”€â”€â†’ â”‚  Store   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                     â”‚                     â”‚
    â”‚                     â”‚                     â”‚
    â†“                     â†“                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PyMuPDF  â”‚         â”‚   UMAP   â”‚         â”‚  FAISS   â”‚
â”‚Unstruc'd â”‚         â”‚ sklearn  â”‚         â”‚ Database â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚  GMM     â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â†“
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚      LLM      â”‚
                 â”‚  (Gemini/GPT) â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â†“
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚  Embeddings   â”‚
                 â”‚(sentence-     â”‚
                 â”‚transformers)  â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

All components modular and replaceable!
```

---

## ğŸ”„ **Diagram 10: Recursive Process**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             RECURSIVE CLUSTERING VISUALIZATION               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

START: 30 chunks

    recursive_process(chunks, level=0)
         â”‚
         â”œâ”€â”€â†’ embed(chunks) â†’ 30 vectors
         â”œâ”€â”€â†’ cluster(vectors) â†’ 5 groups 
         â”œâ”€â”€â†’ summarize(groups) â†’ 5 summaries
         â”‚
         â””â”€â”€â†’ if level < max_level:
                 recursive_process(summaries, level=1)
                      â”‚
                      â”œâ”€â”€â†’ embed(summaries) â†’ 5 vectors
                      â”œâ”€â”€â†’ cluster(vectors) â†’ 1 group
                      â”œâ”€â”€â†’ summarize(group) â†’ 1 summary
                      â”‚
                      â””â”€â”€â†’ if level < max_level:
                              recursive_process(...)
                                   â”‚
                                   â””â”€â”€â†’ Base case reached!

RESULT: Tree structure
        Level 0: 30 nodes
        Level 1: 5 nodes
        Level 2: 1 node
```

---

## ğŸ“Š **Diagram 11: Performance Comparison**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              RETRIEVAL QUALITY COMPARISON                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Query: "What is the main contribution of this paper?"

Traditional RAG:
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Chunk 47: "...loss function..."         â”‚ Relevance: 0.42
    â”‚ Chunk 23: "...table shows..."           â”‚ Relevance: 0.38
    â”‚ Chunk 89: "...optimizer..."             â”‚ Relevance: 0.35
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    Average Relevance: 0.38 âŒ


RAPTOR:
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Level 2: "Paper introduces              â”‚ Relevance: 0.95
    â”‚          Transformer architecture..."   â”‚
    â”‚                                         â”‚
    â”‚ Level 1: "Main innovation is            â”‚ Relevance: 0.87
    â”‚          attention mechanism..."        â”‚
    â”‚                                         â”‚
    â”‚ Level 0: "We propose Transformer..."    â”‚ Relevance: 0.82
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    Average Relevance: 0.88 âœ…

Improvement: +131% in relevance score!
```

---

## ğŸ—ï¸ **Diagram 12: Code Structure**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CODE ORGANIZATION                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

demo_code/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ config.py          â† Configuration & LLM setup
â”‚   â”‚   â””â”€â”€ Config class
â”‚   â”‚       â”œâ”€â”€ get_llm_model()
â”‚   â”‚       â””â”€â”€ get_embedding_model()
â”‚   â”‚
â”‚   â”œâ”€â”€ pdf_processor.py   â† PDF extraction
â”‚   â”‚   â””â”€â”€ PDFProcessor class
â”‚   â”‚       â”œâ”€â”€ extract_elements()
â”‚   â”‚       â””â”€â”€ process_pdf()
â”‚   â”‚
â”‚   â”œâ”€â”€ raptor.py          â† RAPTOR algorithm
â”‚   â”‚   â””â”€â”€ RAPTORProcessor class
â”‚   â”‚       â”œâ”€â”€ embed_texts()
â”‚   â”‚       â”œâ”€â”€ perform_clustering()
â”‚   â”‚       â”œâ”€â”€ embed_cluster_summarize_texts()
â”‚   â”‚       â””â”€â”€ process()  â† MAIN METHOD
â”‚   â”‚
â”‚   â””â”€â”€ vector_store.py    â† FAISS operations
â”‚       â””â”€â”€ FAISSVectorStore class
â”‚           â”œâ”€â”€ create_from_texts()
â”‚           â”œâ”€â”€ similarity_search()
â”‚           â”œâ”€â”€ save()
â”‚           â””â”€â”€ load()
â”‚
â”œâ”€â”€ notebooks/             â† Interactive demos
â”‚   â”œâ”€â”€ raptor_demo_pdf.ipynb
â”‚   â”œâ”€â”€ raptor_code_retrieval.ipynb
â”‚   â””â”€â”€ raptor_docs_wiki.ipynb
â”‚
â”œâ”€â”€ data/                  â† Data storage
â”‚   â”œâ”€â”€ *.pdf
â”‚   â””â”€â”€ vector_store/
â”‚
â”œâ”€â”€ .env                   â† Configuration
â””â”€â”€ run_demo_simple.py     â† Entry point

Clean separation of concerns!
```

---

## ğŸ¯ **How to Use These Diagrams**

### **For Slides:**
1. Copy ASCII art into code blocks
2. Use monospace font for alignment
3. Adjust colors for visual appeal
4. Add animations for step-by-step flow

### **For Documentation:**
1. Include in README.md
2. Reference in code comments
3. Use in technical design docs

### **For Whiteboard Sessions:**
1. Draw simplified versions
2. Use different colors for levels
3. Interactive: build tree live

### **For Video Demos:**
1. Animate tree building process
2. Show real-time clustering
3. Highlight query matching

---

## ğŸ’¡ **Design Principles**

These diagrams follow:
- **Clarity**: Easy to understand at a glance
- **Consistency**: Same symbols throughout
- **Hierarchy**: Visual levels match conceptual levels
- **Flow**: Clear directional indicators
- **Simplicity**: Complex ideas made simple

Use them to make RAPTOR accessible to any audience! ğŸš€
